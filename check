#!/bin/bash
exit_code=0
declare -A checks
declare -A results

checks['nohup']='nohup --version'
checks['php']='php -v'
checks['php-fpm']='php-fpm -v'
checks['nginx']='nginx -v'

for k in "${!checks[@]}"; do
  bash -c "${checks[$k]} &> /dev/null"
  [[ "$?" != "0" ]] && results["$k"]='\e[1;31mFail' && exit_code=1 || results["$k"]='\e[1;32mSuccess'
done

for k in "${!results[@]}"; do
  echo -e "\e[1;34m$k\e[0m - ${results[$k]}\e[0m"
done

exit $exit_code
